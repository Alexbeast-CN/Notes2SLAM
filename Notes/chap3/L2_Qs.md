
# SLAM 十四讲作业及答案 - 2

## Lecture 2

### Q1 熟悉 Eigen 矩阵运算

Eigen（http://eigen.tuxfamily.org）是常⽤的 C++ 矩阵运算库，具有很⾼的运算效率。⼤部分需要在 C++ 中使⽤矩阵运算的库，都会选⽤ Eigen 作为基本代数库，例如 Google Tensorflow，GoogleCeres，GTSAM 等。本次习题，你需要使⽤ Eigen 库，编写程序，求解⼀个线性⽅程组。为此，你需要先了解⼀些有关线性⽅程组数值解法的原理。
设线性⽅程 Ax = b，在 A 为⽅阵的前提下，请回答以下问题：
1. 在什么条件下，x 有解且唯⼀？     
答： 
非齐次线性方程在A的秩与[A|B]的秩相同时方程有解，当R(A)=R(A,B)=n时方程有唯一解。
<br>

2. ⾼斯消元法的原理是什么？         
答：
[高斯消元法入门](https://blog.csdn.net/pengwill97/article/details/77200372)
[高斯消元的可视化视频](https://www.bilibili.com/video/BV1Ub411U767?from=search&seid=11274721862767203625&spm_id_from=333.337.0.0)
<br>

3. QR 分解的原理是什么？
答：
[QR 分解的解释](https://zhuanlan.zhihu.com/p/84415000)
<br>

4. Cholesky 分解的原理是什么？
答：
简单来说 Cholesky 分解就是一种特殊的 LU 分解。当矩阵 A 是 SPD 矩阵（对称正定矩阵），那么此时可以得到一个 $ U = L^{T}$ 的分解。（注意，此时L的对角线元素不一定是1）
    * 对称：$A^T = A$
    * 正定：$\forall v \neq 0, v^T Av > 0$

>参考： [Cholesky 分解的解释](https://zhuanlan.zhihu.com/p/112091443)


5. 编程实现 A 为 100 × 100 随机矩阵时，⽤ QR 和 Cholesky 分解求 x 的程序。你可以参考本次课⽤到的 useEigen 例程。
提⽰：你可能需要参考相关的数学书籍或⽂章。请善⽤搜索引擎。Eigen 固定⼤⼩矩阵最⼤⽀持到 50，所以你会⽤到动态⼤⼩的矩阵。

解：

```cpp

```

### Q2 几何运算练习

下⾯我们来练习如何使⽤ Eigen/Geometry 计算⼀个具体的例⼦。设有⼩萝⼘ 1 ⼀号和⼩萝⼘⼆号位于世界坐标系中。⼩萝⼘⼀号的位姿为： q 1 = [0.55, 0.3, 0.2, 0.2], t 1 =[0.7, 1.1, 0.2] T （q 的第⼀项为实部）
。这⾥的 q 和 t 表达的是 T cw ，也就是世界到相机的变换关系。⼩萝⼘⼆号的位姿为 q 2 = [−0.1, 0.3, −0.7, 0.2], t 2 = [−0.1, 0.4, 0.8] T 。现在，⼩萝⼘⼀号看到某个点在⾃⾝的坐标系下，坐标为 p 1 = [0.5, −0.1, 0.2] T ，求该向量在⼩萝⼘⼆号坐标系下的坐标。请编程实现此事，并提交你的程序。
提⽰：
1. 四元数在使⽤前需要归⼀化。
2. 请注意 Eigen 在使⽤四元数时的虚部和实部顺序。
3. 参考答案为 p 2 = [1.08228, 0.663509, 0.686957] T 。你可以⽤它验证程序是否正确。

